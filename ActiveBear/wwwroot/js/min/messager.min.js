"use strict"; class Messager { constructor(e, t, s) { this.lastMessageAuthor = "", this.messageHolder = e, this.passwordHolder = t, this.messageContainer = s, this.AuthenticateChannel() } AuthenticateChannel() { var e = prompt("Please enter a channel key:", ""); this.passwordHolder.value = e, this.messageHolder.hidden = !1 } CreateMessageBubble(e) { if (null !== e && "" !== e) { var t = Encryption.AesDecrypt(e.EncryptedContents); if (null !== t) { var s = currentUser.innerHTML === e.Sender, a = this.lastMessageAuthor === e.Sender; if (!a) { var n = document.createElement("div"); n.setAttribute("class", "message_author"), s ? (n.textContent = "You", n.style.textAlign = "right") : n.textContent = e.Sender, this.messageContainer.appendChild(n) } var r = document.createElement("div"); r.setAttribute("class", "message"), r.textContent = t, this.messageContainer.appendChild(r), s && (r.style.textAlign = "right", r.style.backgroundColor = "#3000a8"), a && (r.style.marginTop = "-13px"), this.lastMessageAuthor = e.Sender, this.UpdateScroll() } } } Notification(e) { if (null !== e && "" !== e) { var t = document.createElement("div"); t.setAttribute("class", "notification"), t.textContent = e, this.messageContainer.appendChild(t), this.lastMessageAuthor = "system", this.UpdateScroll() } } UpdateScroll() { this.messageContainer.scrollTop = this.messageContainer.scrollHeight } }